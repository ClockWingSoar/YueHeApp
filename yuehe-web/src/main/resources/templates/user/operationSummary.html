<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>操作表</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
       <link rel="stylesheet" th:href="@{/css/core.css}">
       <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
        <script type="text/javascript"  th:src="@{/js/jquery.min.js}"></script>
           <script type="text/javascript"  th:src="@{/js/bootstrap.min.js}"></script>
           <script type="text/javascript"  th:src="@{/js/yuehe.js}"></script>
    <meta http-equiv="refresh" content="600; URL=/"> <!-- this will redirect to / after 600s-->

</head>

<body>
<div th:replace="~{fragments/header :: header}">Header</div>

<div role="main" class="container">
<div th:replace="~{fragments/operationHeader :: header}">Operation Header</div>
	<!-- 统计各个美容院的总消耗，总开卡金额，总回款，总预付款等 -->
	<div class="form-group">
    <label for="cosmeticShopName">美容院:</label>
    <select  class="form-control" required="required"  name="cosmeticShop" id="cosmeticShop">
      <option disabled="disabled" selected="selected" > --所有店 --
      </option>
      <option th:each="cosmeticShop : ${cosmeticShopList}" th:value="${cosmeticShop.id}" 
       th:text="${cosmeticShop.name}" >
      </option>
    </select>
	</div>

	<div class="form-group">
       <label for="client">客户姓名</label>
          <select class="form-control"  
          name="client" id="client" required="required">
              <!-- option disabled="disabled" selected="selected" > --所有客户 --</option>
               <option th:each="client : ${clientList}" th:value="${client.id}" 
       th:text="${client.name}" > -->
          </select>
	</div>

		<div class="form-group">
	       <label for="sale">美肤销售卡</label>
	          <select class="form-control"  
	          name="sale" id="sale" required="required">
	              <!-- option disabled="disabled" selected="selected" > --所有美肤卡 --</option>
	               <option th:each="sale : ${saleList}" th:value="${sale.id}" 
	       th:text="${sale.beautifySkinItemName}-${sale.createCardDate}" > -->
	          </select>
		</div>
	
	<div id="operation_detail">
		<div class="panel-body table-wrapper-scroll-y my-custom-scrollbar">
		    <table  id="operation_detail_table" class="table table-striped  table-sm " >
		    	<thead>
		    	
		   			 <tr class="info">
		   			    <th>操作ID</th>
		   			    <th>销售卡ID</th>
						<th>开卡日期</th>
						<th>操作日期</th>
						<th>客户姓名</th>
						<th>美容院</th>
						<th>美肤项目</th>
						<th>开卡总金额</th>
						<th>回款金额</th>
						<th>疗程总次数</th>
						<th>剩余次数</th>
						<th>已消耗总数</th>
						<th>已消耗回款</th>
						<th>预付款总数</th>
						<th>操作人</th>
						<th>仪器</th>
						<th>操作费用</th>
						<th>备注</th>
					</tr>
				</thead>
				
				<tbody id="operation_detail_table_body">
					<tr data-th-each="operation : ${operationList}">
					<td data-th-text="${operation.operationId}">...</td>
					<td data-th-text="${operation.saleId}">...</td>
					<td data-th-text="${operation.createCardDate}">...</td>
					<td data-th-text="${operation.operationDate}">...</td>
					<td data-th-text="${operation.clientName}">...</td>
					<td data-th-text="${operation.cosmeticShopName}">...</td>
					<td data-th-text="${operation.beautifySkinItemName}">...</td>
					<td data-th-text="${operation.createCardTotalAmount}">...</td>
					<td data-th-text="${operation.earnedTotalAmount}">...</td>
					<td data-th-text="${operation.totalItemNumber}">...</td>
					<td data-th-text="${operation.restItemNumber}">...</td>
					<td data-th-text="${operation.consumedTotalAmount}">...</td>
					<td data-th-text="${operation.consumedEarnedTotalAmount}">...</td>
					<td data-th-text="${operation.advancedEarnedTotalAmount}">...</td>
					<td data-th-text="${operation.operatorName}">...</td>
					<td data-th-text="${operation.toolName}">...</td>
					<td data-th-text="${operation.operateExpense}">...</td>
					<td data-th-text="${operation.description}">...</td>
					</tr>
				</tbody>
				</table>
			</div>
		 <div class="form-group">
	      <label class="control-label col-sm-2" >总消耗:</label>
	      <div class="col-sm-10">
	        <p id= "operation_detail_total_consumed_amount" class="form-control-static" data-th-text="${totalConsumedAmount}">...</p>
	      </div>
	      <label class="control-label col-sm-2" >总预付款:</label>
	      <div class="col-sm-10">
	        <p id= "operation_detail_total_advanced_earned_amount" class="form-control-static" data-th-text="${totalAdvancedEarnedAmount}">...</p>
	      </div>
	    </div>
    	<footer class="fixed-bottom" style="position: fixed; bottom: 0">
        <div class="container">
            <span class="text-muted">Developed by Yi Xiang Zhong.</span>
        </div>
    </footer>
</div> 
</body>
</html>
